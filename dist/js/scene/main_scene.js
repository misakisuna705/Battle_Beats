class Main_Scene extends Phaser.State{init(){this.game.bgv.addToWorld(-400,0,0,0,1,1)}create(){const t=this.game,e=Phaser.Keyboard;this.mode_buttons=new Buttons({game:t,normal_style:{fill:"#008cff"},active_style:{fill:"#ffffff"}}),this.mode_buttons.add_button([new Button({game:t,x:360,y:120,key:"mode_button",callback:this.choose_general_mode,callbackContext:this},{word:"一般模式",form:{fill:this.mode_buttons.active_style.fill}}),new Button({game:t,x:360,y:180,key:"mode_button",callback:this.choose_story_mode,callbackContext:this},{word:"故事模式",form:{fill:this.mode_buttons.normal_style.fill}}),new Button({game:t,x:360,y:240,key:"mode_button",callback:this.choose_method_button,callbackContext:this},{word:"玩法說明",form:{fill:this.mode_buttons.normal_style.fill}})]),this.mode_article=[new Article({game:t,x:80,y:120,text:"aaa\naaa\naaa\naaa",style:{fill:"#008cff"}}),new Article({game:t,x:80,y:120,text:"bbb\nbbb\nbbb\nbbb",style:{fill:"#008cff"}}),new Article({game:t,x:80,y:120,text:"ccc\nccc\nccc\nccc",style:{fill:"#008cff"}})],this.mode_article[0].visible=!0,this.enter_button=new Button({game:t,x:444,y:604,key:"enter_button",callback:this.enter_scene,callbackContext:this},{word:"確認",form:{fill:"#008cff"},keycode:e.ENTER}),this.exit_button=new Button({game:t,x:36,y:36,key:"exit_button",callback:this.exit_scene,callbackContext:this},{word:"登出",form:{fill:"#008cff"},keycode:e.ESC})}choose_general_mode(){const t=this.mode_buttons,e=this.mode_buttons.normal_style,s=this.mode_buttons.active_style,o=this.mode_article;t.btns[t.active].text.setStyle(e),o[t.active].visible=!1,t.active=0,t.btns[t.active].text.setStyle(s),o[t.active].visible=!0}choose_story_mode(){const t=this.mode_buttons,e=this.mode_buttons.normal_style,s=this.mode_buttons.active_style,o=this.mode_article;t.btns[t.active].text.setStyle(e),o[t.active].visible=!1,t.active=1,t.btns[t.active].text.setStyle(s),o[t.active].visible=!0}choose_method_button(){const t=this.mode_buttons,e=this.mode_buttons.normal_style,s=this.mode_buttons.active_style,o=this.mode_article;t.btns[t.active].text.setStyle(e),o[t.active].visible=!1,t.active=2,t.btns[t.active].text.setStyle(s),o[t.active].visible=!0}enter_scene(){const t=this.game;switch(this.mode_buttons.active){case 0:t.bgm.stop(),t.state.start("Song_Scene")}}exit_scene(){firebase.auth().signOut().then(()=>{this.game.bgm.stop(),this.game.state.start("Game_Login")}).catch(t=>{alert(t.message)})}}