class Main_Scene extends Phaser.State{init(){this.game.bgv.addToWorld(-400,0,0,0,1,1)}create(){const t=this.game,e=button_config.main_scene,i=article_config.main_scene;this.enter_button=new Button({game:t,callback:this.enter_scene,callbackContext:this,form:{fill:"#008cff"}},e.enter_button),this.exit_button=new Button({game:t,callback:this.exit_scene,callbackContext:this,form:{fill:"#008cff"}},e.exit_button),this.mode_buttons=new Buttons({game:t,pre_callback:this.choose_pre_mode,nxt_callback:this.choose_nxt_mode,callbackContext:this},e.mode_buttons),this.mode_buttons.addMultiple([new Button({game:t,callback:this.choose_general_mode,callbackContext:this,form:{fill:this.mode_buttons.active_style.fill}},e.general_mode_button),new Button({game:t,callback:this.choose_story_mode,callbackContext:this,form:{fill:this.mode_buttons.normal_style.fill}},e.story_mode_button),new Button({game:t,callback:this.choose_method_button,callbackContext:this,form:{fill:this.mode_buttons.normal_style.fill}},e.method_button),new Button({game:t,callback:this.choose_npc_button,callbackContext:this,form:{fill:this.mode_buttons.normal_style.fill}},e.npc_button)]),this.mode_article=[new Article({game:t},i.general_mode_article),new Article({game:t},i.story_mode_article),new Article({game:t},i.method_article),new Article({game:t},i.npc_article)],this.mode_article[0].visible=!0}enter_scene(){const t=this.game;switch(this.mode_buttons.active){case 0:t.state.start("Song_Scene");break;case 1:case 2:break;case 3:t.state.start("NPC_Scene")}}exit_scene(){firebase.auth().signOut().then(()=>{this.game.state.start("Game_Login")}).catch(t=>{alert(t.message)})}choose_pre_mode(){const t=this.mode_buttons,e=this.mode_article,i=t.length;t.getAt(t.active).text.setStyle(t.normal_style),e[t.active].visible=!1,t.active=(t.active-1+i)%i,t.getAt(t.active).text.setStyle(t.active_style),e[t.active].visible=!0}choose_nxt_mode(){const t=this.mode_buttons,e=this.mode_article;t.getAt(t.active).text.setStyle(t.normal_style),e[t.active].visible=!1,t.active=(t.active+1)%t.length,t.getAt(t.active).text.setStyle(t.active_style),e[t.active].visible=!0}choose_general_mode(){const t=this.mode_buttons,e=this.mode_article;t.getAt(t.active).text.setStyle(t.normal_style),e[t.active].visible=!1,t.active=0,t.getAt(t.active).text.setStyle(t.active_style),e[t.active].visible=!0}choose_story_mode(){const t=this.mode_buttons,e=this.mode_article;t.getAt(t.active).text.setStyle(t.normal_style),e[t.active].visible=!1,t.active=1,t.getAt(t.active).text.setStyle(t.active_style),e[t.active].visible=!0}choose_method_button(){const t=this.mode_buttons,e=this.mode_article;t.getAt(t.active).text.setStyle(t.normal_style),e[t.active].visible=!1,t.active=2,t.getAt(t.active).text.setStyle(t.active_style),e[t.active].visible=!0}choose_npc_button(){const t=this.mode_buttons,e=this.mode_article;t.getAt(t.active).text.setStyle(t.normal_style),e[t.active].visible=!1,t.active=3,t.getAt(t.active).text.setStyle(t.active_style),e[t.active].visible=!0}}