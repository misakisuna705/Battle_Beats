class NPC_Scene extends Phaser.State{init(){this.game.bgv.addToWorld(-400,0,0,0,1,1)}create(){const t=this.game,i=button_config.npc_scene;this.exit_button=new Button({game:t,callback:this.exit_scene,callbackContext:this,form:{fill:"#008cff"}},i.exit_button),this.npc_buttons=new Buttons({game:t,pre_callback:this.choose_pre_npc,nxt_callback:this.choose_nxt_npc,callbackContext:this},i.npc_buttons),this.npc_buttons.addMultiple([new Button({game:t,callback:this.choose_pre_npc,callbackContext:this,form:{fill:this.npc_buttons.normal_style.fill}},i.left_npc_button),new Button({game:t,callback:this.choose_nxt_npc,callbackContext:this,form:{fill:this.npc_buttons.normal_style.fill}},i.right_npc_button)]),this.npcs=[],npcs_config.forEach(i=>{const s=this.npcs.push(new HERO(300,300,240,150,t,this,i,Phaser.Keyboard.D,!1));this.npcs[s-1].start(),this.npcs[s-1].visible=!1,this.npcs[s-1].info.visible=!1}),this.idx=0,this.npcs[this.idx].visible=!0,this.npcs[this.idx].info.visible=!0,this.npcs[this.idx].atkKey.onHoldContext=this.npcs[this.idx],this.npcs[this.idx].atkKey.onHoldCallback=this.npcs[this.idx].skill}exit_scene(){this.game.state.start("Main_Scene")}choose_pre_npc(){const t=this.npcs,i=t.length;t[this.idx].visible=!1,t[this.idx].info.visible=!1,this.idx=(this.idx-1+i)%i,t[this.idx].visible=!0,t[this.idx].info.visible=!0,t[this.idx].atkKey.onHoldContext=t[this.idx],t[this.idx].atkKey.onHoldCallback=t[this.idx].skill}choose_nxt_npc(){const t=this.npcs;t[this.idx].visible=!1,t[this.idx].info.visible=!1,this.idx=(this.idx+1)%t.length,t[this.idx].visible=!0,t[this.idx].info.visible=!0,t[this.idx].atkKey.onHoldContext=t[this.idx],t[this.idx].atkKey.onHoldCallback=t[this.idx].skill}}