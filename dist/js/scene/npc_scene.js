class NPC_Scene extends Phaser.State{create(){const t=this.game;this.idx=0;const s=button_config.song_scene;this.exit_button=new Button({game:t,callback:this.exit_scene,callbackContext:this,form:{fill:"#008cff"}},s.exit_button),this.npc_buttons=new Buttons({game:t,pre_callback:this.choose_pre_song,nxt_callback:this.choose_nxt_song,callbackContext:this},s.song_buttons),this.npc_buttons.addMultiple([new Button({game:t,callback:this.choose_pre_song,callbackContext:this,form:{fill:this.npc_buttons.normal_style.fill}},s.left_song_button),new Button({game:t,callback:this.choose_nxt_song,callbackContext:this,form:{fill:this.npc_buttons.normal_style.fill}},s.right_song_button)]),this.npc_infos=[],npcs_config.forEach(s=>{let i=this.npc_infos.push(new HERO(200,200,this.game.width/2,this.game.height/2,t,this,s,Phaser.Keyboard.D,!1));this.npc_infos[i-1].start(),this.npc_infos[i-1].visible=!1})}exit_scene(){const t=this.game;t.bgm.play(),t.state.start("Main_Scene")}choose_pre_song(){const t=this.npc_infos;if(t[this.idx].visible=!1,this.idx-1<0){this.idx=t.length-1;var s=t[this.idx]}else{this.idx=this.idx-1;s=t[this.idx]}s.visible=!0,s.atkKey.onHoldContext=s,s.atkKey.onHoldCallback=s.skill}choose_nxt_song(){const t=this.npc_infos;if(t[this.idx].visible=!1,this.idx+1>=t.length){this.idx=0;var s=t[this.idx]}else{this.idx=this.idx+1;s=t[this.idx]}s.visible=!0,s.atkKey.onHoldContext=s,s.atkKey.onHoldCallback=s.skill}}